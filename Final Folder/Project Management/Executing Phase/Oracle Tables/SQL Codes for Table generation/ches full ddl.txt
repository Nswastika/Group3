DROP TABLE USERS CASCADE CONSTRAINTS;
DROP TABLE PRODUCT CASCADE CONSTRAINTS;
DROP TABLE CATEGORY CASCADE CONSTRAINTS;
DROP TABLE SHOP CASCADE CONSTRAINTS;
DROP TABLE TRADER CASCADE CONSTRAINTS;
DROP TABLE PAYMENT CASCADE CONSTRAINTS;
DROP TABLE COLLECTION_SLOT CASCADE CONSTRAINTS;
DROP TABLE REVIEW CASCADE CONSTRAINTS;
DROP TABLE CART CASCADE CONSTRAINTS;
DROP TABLE ORDERS CASCADE CONSTRAINTS;



CREATE TABLE  "USERS" 
   (    "USER_ID" NUMBER(3,0), 
    "USER_FIRST_NAME" VARCHAR2(80), 
    "USER_LAST_NAME" VARCHAR2(80),
    "USER_USERNAME" VARCHAR(80), 
    "USER_ADDRESS" VARCHAR2(80), 
    "USER_EMAIL" VARCHAR2(80), 
    "USER_PASSWORD" VARCHAR2(80), 
    "ACTIVE" NUMBER(1,0), 
    "USER_TYPE" VARCHAR2(15), 
    "USER_CREATED_AT" VARCHAR2(25), 
    "USER_IMAGE" VARCHAR2(100), 
    "DATE_OF_BIRTH" VARCHAR2(10),
    "ACTIVATE_CODE" VARCHAR2(12),
     CONSTRAINT "PK_USERS" PRIMARY KEY ("USER_ID") ENABLE
   );


CREATE TABLE  "PRODUCT" 
   (    "PRODUCTID" NUMBER, 
    "PRODUCTNAME" VARCHAR2(25), 
    "PRODUCTPRICE" NUMBER, 
    "PRODUCTDESCRIPTION" VARCHAR2(255), 
    "PRODUCTSTOCK" NUMBER, 
    "ALLERGYINFORMATION" VARCHAR2(255), 
    "PRODUCTIMAGE" VARCHAR2(255), 
    "TRADER_ID" NUMBER(10,0),
    "MINIMUMORDER" NUMBER, 
    "MAXIMUMORDER" NUMBER, 
    "PRODUCT_DISCOUNT_PERCENT" NUMBER(10,2),
    "PRODUCT_SHOP_ID" NUMBER,
    "SHOPID" NUMBER, 
    "CATEGORYID" NUMBER,
    "IS_ACTIVATED" NUMBER(1,0),
         CONSTRAINT "PK_PRODUCT" PRIMARY KEY ("PRODUCTID") ENABLE
   );


CREATE TABLE  "CATEGORY" 
   (    "CATEGORYID" NUMBER(*,0), 
    "CATEGORYNAME" VARCHAR2(100), 
     CONSTRAINT "PK_CATEGORY_ID" PRIMARY KEY ("CATEGORYID") ENABLE
   );



CREATE TABLE  "SHOP" 
   (    "SHOP_ID" NUMBER(10,0), 
    "NAME" VARCHAR2(255) NOT NULL ENABLE, 
    "TRADER_ID" NUMBER(10,0), 
    "LOCATION" VARCHAR2(255),
    "IS_ACTIVE" NUMBER(1,0), 
    "PHONE_NO_1" VARCHAR2(20) NOT NULL ENABLE,
     CONSTRAINT "SHOP_PK" PRIMARY KEY ("SHOP_ID") ENABLE
   );


CREATE TABLE  "TRADER" 
   (  "TRADER_ID" NUMBER(10,0), 
  "USER_ID" NUMBER(10,0), 
  "TRADER_EMAIL" VARCHAR2(255), 
   CONSTRAINT "TRADER_PK" PRIMARY KEY ("TRADER_ID") ENABLE
   );

CREATE TABLE  "PAYMENT" 
   (    "PAYMENT_ID" NUMBER(10,0) NOT NULL ENABLE, 
    "INVOICE_ID" NUMBER(10,0), 
    "USER_EMAIL" VARCHAR2(255),  
    "PRICE" NUMBER, 
    "PAYMENT_DATE" DATE, 
    "TRADER_ID" NUMBER(10,0),
    "PRODUCTID" NUMBER(10,0),
     CONSTRAINT "PK_PAYMENT" PRIMARY KEY ("PAYMENT_ID") ENABLE
   );

CREATE TABLE  "COLLECTION_SLOT" 
   (  "COLLECTION_SLOT_ID" NUMBER(10,0), 
  "DAY" VARCHAR2(10) NOT NULL ENABLE, 
  "SLOT" VARCHAR2(25), 
  "USER_ID" NUMBER, 
   CONSTRAINT "COLLECTION_SLOT_PK" PRIMARY KEY ("COLLECTION_SLOT_ID") ENABLE
   );


   CREATE TABLE  "REVIEW"
   (    "REVIEWID" NUMBER(25,0),
    "CUSTOMERID" NUMBER(25,0),
    "PRODUCTID" NUMBER(25,0),
    "REVIEWDESCRIPTION" VARCHAR2(255),
    "REVIEWSCORE" NUMBER(20,0),
    "REVIEWDATE" VARCHAR2(10),
    "CUSTOMERNAME" VARCHAR2(25)
   );


   CREATE TABLE  "CART" 
   (    "CUSTOMERID" NUMBER(*,0), 
    "PRODUCTID" NUMBER(*,0), 
    "QUANTITY" NUMBER(*,0),
    "PRODUCTPRICE" NUMBER(*,0)
   );


CREATE TABLE  "ORDERS" 
   (  "ORDERID" VARCHAR2(20) NOT NULL ENABLE, 
  "ORDERDATE" DATE, 
  "TRADER_ID" NUMBER(10,0), 
  "COLLECTION_SLOT_ID" NUMBER(10,0), 
  "PRODUCTNAME" VARCHAR2(25), 
  "QUANTITY" NUMBER, 
  "IS_DELIVERED" NUMBER, 
  "PRODUCTID" NUMBER(10,0),
   CONSTRAINT "ORDERS_PK" PRIMARY KEY ("ORDERID") ENABLE
   );

ALTER TABLE  "PRODUCT" ADD FOREIGN KEY ("PRODUCT_SHOP_ID") REFERENCES  "SHOP" ("SHOP_ID") ENABLE;
ALTER TABLE  "PRODUCT" ADD CONSTRAINT "PRODUCT_TRADER_FK" FOREIGN KEY ("TRADER_ID") REFERENCES  "USERS" ("USER_ID") ENABLE;
ALTER TABLE  "PRODUCT" ADD FOREIGN KEY ("CATEGORYID") REFERENCES  "CATEGORY" ("CATEGORYID") ENABLE;
ALTER TABLE  "SHOP" ADD CONSTRAINT "SHOP_TRADER_FK" FOREIGN KEY ("TRADER_ID") REFERENCES  "USERS" ("USER_ID") ENABLE;
ALTER TABLE  "TRADER" ADD CONSTRAINT "TRADER_USERS_FK" FOREIGN KEY ("USER_ID") REFERENCES  "USERS" ("USER_ID") ENABLE;
ALTER TABLE  "ORDERS" ADD CONSTRAINT "ORDERS_TRADER_FK" FOREIGN KEY ("TRADER_ID") REFERENCES  "USERS" ("USER_ID") ENABLE;
ALTER TABLE  "PAYMENT" ADD CONSTRAINT "PAYMENT_TRADER_FK" FOREIGN KEY ("TRADER_ID") REFERENCES  "USERS" ("USER_ID") ENABLE